# Lyrica Complete Workflow Diagram

## End-to-End Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      START: Lyrica Beta                             â”‚
â”‚              "Generate & Contribute Synchronized Lyrics"            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   USER INPUTS               â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ 1. Groq API Key (or env)    â”‚
                â”‚ 2. Audio File (MP3, WAV...) â”‚
                â”‚ 3. Options:                 â”‚
                â”‚    - Language               â”‚
                â”‚    - Vocal Separator        â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   PHASE 1: TRANSCRIPTION (~60s)     â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ 1. Optional: Vocal/Music Separator  â”‚
                â”‚ 2. Audio â†’ Groq Whisper API         â”‚
                â”‚ 3. Output: Raw transcription +      â”‚
                â”‚    timing for each segment          â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   PHASE 2: FORMATTING (~5s)  â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ 1. Parse transcription       â”‚
                â”‚ 2. Extract timing info       â”‚
                â”‚ 3. Verify all lines have     â”‚
                â”‚    timestamp [MM:SS.CS]      â”‚
                â”‚ 4. Generate LRC format       â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   PHASE 3: TRANSLATION       â”‚
                â”‚   (Optional, ~45s if enabled)â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ 1. User selects language     â”‚
                â”‚ 2. Send to Groq Mixtral      â”‚
                â”‚ 3. **TIMING PRESERVED**:     â”‚
                â”‚    Keep original timestamps  â”‚
                â”‚ 4. Update lyrics only        â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         LYRICS OUTPUT SCREEN                      â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ âœ… Generated Lyrics Display                        â”‚
        â”‚    [MM:SS.CS] Lyrics text                         â”‚
        â”‚                                                   â”‚
        â”‚ ğŸ“Š Metadata                                        â”‚
        â”‚    - Total lines                                  â”‚
        â”‚    - Duration                                     â”‚
        â”‚    - Character count                              â”‚
        â”‚    - Format (LRC v1.0)                            â”‚
        â”‚                                                   â”‚
        â”‚ âš ï¸ BETA WARNING                                   â”‚
        â”‚    "Please review carefully before uploading"    â”‚
        â”‚                                                   â”‚
        â”‚ ğŸ”˜ ACTION BUTTONS                                 â”‚
        â”‚    - Scroll to Lyrics                             â”‚
        â”‚    - Verify & Upload to LRCLib  â† MAIN           â”‚
        â”‚    - Copy LRC                                     â”‚
        â”‚    - Download .LRC                                â”‚
        â”‚    - Download .TXT                                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ USER CHOICE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                              â”‚
        â”œâ”€ No â†’ Download & Use Locally                â”‚
        â”‚       (Done)                                 â”‚
        â”‚                                              â”‚
        â””â”€ Yes â†’ "Verify & Upload to LRCLib"         â”‚
                  â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   STEP 1: CONFIRMATION DIALOG                    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ "Are these lyrics correct?"                      â”‚
    â”‚                                                  â”‚
    â”‚ âš ï¸ This is BETA - may contain errors            â”‚
    â”‚                                                  â”‚
    â”‚ [No, Regenerate] [Yes, Upload to LRCLib]        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
              [No] â† Regenerate â†’ Back to Phase 1
                  
              [Yes] â†’ Continue â†“

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   STEP 2: SONG DETAILS DIALOG                    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Required Fields:                                 â”‚
    â”‚   Artist Name:        _________________          â”‚
    â”‚   Track Name:         _________________          â”‚
    â”‚                                                  â”‚
    â”‚ Optional Fields:                                 â”‚
    â”‚   Album Name:         _________________          â”‚
    â”‚   Contributor Name:   Lyrica API (default)      â”‚
    â”‚                                                  â”‚
    â”‚ [Back]                            [Upload]      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   STEP 3: LRCLib CHALLENGE PHASE                 â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Status: "Publishing Lyrics..."                  â”‚
    â”‚                                                  â”‚
    â”‚ [Stage 1] Requesting challenge from LRCLib...   â”‚
    â”‚ âœ“ Received: prefix + target                     â”‚
    â”‚                                                  â”‚
    â”‚ [Stage 2] Solving proof-of-work challenge...    â”‚
    â”‚           (Computing SHA-256 hashes)            â”‚
    â”‚           This may take 5-30 seconds...         â”‚
    â”‚ âœ“ Challenge solved!                             â”‚
    â”‚                                                  â”‚
    â”‚ [Stage 3] Publishing lyrics to LRCLib...        â”‚
    â”‚ ğŸ”„ Sending data with publish token              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
                    â”Œâ”€ Success â”€â”
                    â”‚           â”‚
                    â†“           â†“
            âœ… SUCCESS     âŒ ERROR
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Congrats!  â”‚ â”‚ Failed:    â”‚
            â”‚ Lyrics     â”‚ â”‚ Try Again  â”‚
            â”‚ published! â”‚ â”‚ or Close   â”‚
            â”‚            â”‚ â”‚ Error msg  â”‚
            â”‚ [Close]    â”‚ â”‚ [Close]    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“              â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚    CONTRIBUTION COMPLETE!   â”‚
            â”‚                             â”‚
            â”‚ Your lyrics are now in      â”‚
            â”‚ LRCLib and available to     â”‚
            â”‚ millions of music players!  â”‚
            â”‚                             â”‚
            â”‚ ğŸµ Thank You! ğŸµ            â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   /app/page.tsx                         â”‚
â”‚                   (Main Container)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ API Configurationâ”‚         â”‚  Audio Upload    â”‚    â”‚
â”‚  â”‚                  â”‚         â”‚  Processor       â”‚    â”‚
â”‚  â”‚ ApiKeyManager    â”‚         â”‚                  â”‚    â”‚
â”‚  â”‚ - Groq API Key   â”‚         â”‚ Audio Upload     â”‚    â”‚
â”‚  â”‚ - Env Toggle     â”‚         â”‚ Processor        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Language Options â”‚         â”‚ Processing       â”‚    â”‚
â”‚  â”‚ - Original       â”‚         â”‚ Options          â”‚    â”‚
â”‚  â”‚ - English        â”‚         â”‚                  â”‚    â”‚
â”‚  â”‚ - Spanish        â”‚         â”‚ âœ“ Vocal Sep.     â”‚    â”‚
â”‚  â”‚ - etc.           â”‚         â”‚                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚              â”‚  Generate Lyrics    â”‚                  â”‚
â”‚              â”‚   Button (Primary)  â”‚                  â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                      â†“                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          Processing Status Monitor            â”‚   â”‚
â”‚  â”‚ Shows:                                        â”‚   â”‚
â”‚  â”‚ - Current step (Transcribing, Translating...) â”‚   â”‚
â”‚  â”‚ - Elapsed time (real-time counter)           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                      â†“                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         Lyrics Output (When Ready)            â”‚   â”‚
â”‚  â”‚                                               â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚ â”‚ LyricsOutput Component                  â”‚  â”‚   â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚   â”‚
â”‚  â”‚ â”‚ Controls:                               â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ â–¡ Show timing                           â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ [Scroll to Lyrics]                      â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ [Verify & Upload to LRCLib] â† NEW       â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ [Copy LRC]                              â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ [Download .LRC]                         â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ [Download .TXT]                         â”‚  â”‚   â”‚
â”‚  â”‚ â”‚                                         â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ [MM:SS.CS] Lyrics Display               â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ [00:12.34] First line of lyrics         â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ [00:17.50] Second line of lyrics        â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ ...                                     â”‚  â”‚   â”‚
â”‚  â”‚ â”‚                                         â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ Metadata:                               â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ Total Lines | Duration | Chars | LRCv1 â”‚  â”‚   â”‚
â”‚  â”‚ â”‚                                         â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ âš ï¸ Beta warning & LRCLib info           â”‚  â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                               â”‚   â”‚
â”‚  â”‚ [When User Clicks Verify & Upload...]        â”‚   â”‚
â”‚  â”‚          â†“                                    â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚ â”‚ LRCLibUploadDialog Component   â† NEW     â”‚  â”‚   â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚   â”‚
â”‚  â”‚ â”‚                                         â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ Multi-Step Dialog:                      â”‚  â”‚   â”‚
â”‚  â”‚ â”‚                                         â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ Step 1: Confirm                         â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ Step 2: Enter Details                   â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ Step 3: Uploading Status                â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ Step 4: Success/Error                   â”‚  â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## API Routes Flow

```
CLIENT SIDE (Browser)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Click "Verify & Upload"â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LRCLibUploadDialog Component              â”‚
â”‚                                           â”‚
â”‚ User fills:                              â”‚
â”‚ - Artist Name (required)                 â”‚
â”‚ - Track Name (required)                  â”‚
â”‚ - Album Name (optional)                  â”‚
â”‚ - Contributor Name (optional)            â”‚
â”‚                                           â”‚
â”‚ [Clicks Upload]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /api/lrclib/request-challengeâ”‚ â†’ LRCLib Server
â”‚ (Get proof-of-work challenge)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â† Returns: {prefix, target}
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Solve Challenge                  â”‚
â”‚ (Local browser computation)      â”‚
â”‚                                  â”‚
â”‚ Algorithm:                       â”‚
â”‚ for nonce in 0..infinity:        â”‚
â”‚   hash = SHA256(prefix:nonce)    â”‚
â”‚   if hash <= target:             â”‚
â”‚     publishToken = prefix:nonce  â”‚
â”‚     break                        â”‚
â”‚                                  â”‚
â”‚ Time: 5-30 seconds              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“ (After challenge solved)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /api/lrclib/publish         â”‚ â†’ LRCLib Server
â”‚                                  â”‚
â”‚ Headers:                         â”‚
â”‚ X-Publish-Token: {publishToken}  â”‚
â”‚                                  â”‚
â”‚ Body:                            â”‚
â”‚ {                                â”‚
â”‚   trackName,                     â”‚
â”‚   artistName,                    â”‚
â”‚   albumName,                     â”‚
â”‚   duration,                      â”‚
â”‚   plainLyrics,                   â”‚
â”‚   syncedLyrics                   â”‚
â”‚ }                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â† Returns: 201 Created or Error
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Show Result                      â”‚
â”‚                                  â”‚
â”‚ Success: "Thank you for          â”‚
â”‚  contributing!"                  â”‚
â”‚                                  â”‚
â”‚ Error: "Failed because..."       â”‚
â”‚ [Try Again]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Timing Verification Process

```
Input Audio File
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Transcription Phase                 â”‚
â”‚ (Groq Whisper Large V3)             â”‚
â”‚                                     â”‚
â”‚ Output:                             â”‚
â”‚ {                                   â”‚
â”‚   segments: [                       â”‚
â”‚     {                               â”‚
â”‚       start: 0.5,                   â”‚
â”‚       end: 2.5,                     â”‚
â”‚       text: "First line"            â”‚
â”‚     },                              â”‚
â”‚     {                               â”‚
â”‚       start: 3.0,                   â”‚
â”‚       end: 5.5,                     â”‚
â”‚       text: "Second line"           â”‚
â”‚     }                               â”‚
â”‚   ]                                 â”‚
â”‚ }                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Timing Verification & Formatting    â”‚
â”‚                                     â”‚
â”‚ For each segment:                   â”‚
â”‚ 1. Start time = segment.start       â”‚
â”‚ 2. Format: mm = floor(start/60)     â”‚
â”‚           ss = floor(start % 60)     â”‚
â”‚           cs = (start%1)*100         â”‚
â”‚                                     â”‚
â”‚ 3. Output: [mm:ss.cs] text          â”‚
â”‚                                     â”‚
â”‚ Example:                            â”‚
â”‚ start = 0.5 seconds                 â”‚
â”‚   â†’ [00:00.50] First line           â”‚
â”‚                                     â”‚
â”‚ start = 3.0 seconds                 â”‚
â”‚   â†’ [00:03.00] Second line          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Translation Phase (Optional)        â”‚
â”‚ (Groq Mixtral 8x7b)                 â”‚
â”‚                                     â”‚
â”‚ INPUT:                              â”‚
â”‚ [00:00.50] First line               â”‚
â”‚ [00:03.00] Second line              â”‚
â”‚                                     â”‚
â”‚ PROCESS:                            â”‚
â”‚ Extract timing: [00:00.50]          â”‚
â”‚ Extract text: "First line"          â”‚
â”‚ Translate text â†’ new language       â”‚
â”‚ Keep timing intact                  â”‚
â”‚                                     â”‚
â”‚ OUTPUT:                             â”‚
â”‚ [00:00.50] PremiÃ¨re ligne (French)  â”‚
â”‚ [00:03.00] DeuxiÃ¨me ligne           â”‚
â”‚                                     â”‚
â”‚ âœ… Timing preserved exactly!        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Final Lyrics (LRC Format)           â”‚
â”‚                                     â”‚
â”‚ [00:00.50] First line (or trans)    â”‚
â”‚ [00:03.00] Second line (or trans)   â”‚
â”‚ [00:05.50] Third line (or trans)    â”‚
â”‚ ...                                 â”‚
â”‚ [03:25.72] Last line (or trans)     â”‚
â”‚                                     â”‚
â”‚ Properties:                         â”‚
â”‚ - All lines have timestamps         â”‚
â”‚ - Times in ascending order          â”‚
â”‚ - Format: [MM:SS.CS]                â”‚
â”‚ - Timing matches actual speech      â”‚
â”‚ - Ready for LRC players!            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## LRCLib Interaction Sequence

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Lyrica (Browser)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†•
                   (HTTP Requests)
                          â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Lyrica Backend API Routes                       â”‚
â”‚ /api/lrclib/request-challenge                          â”‚
â”‚ /api/lrclib/publish                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†•
                   (HTTPS Requests)
                          â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           LRCLib Public API                             â”‚
â”‚           https://lrclib.net/api                        â”‚
â”‚                                                         â”‚
â”‚ Endpoints:                                              â”‚
â”‚ POST /api/request-challenge â†’ Challenge                â”‚
â”‚ POST /api/publish           â†’ Publish Lyrics           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        LRCLib Database                                  â”‚
â”‚                                                         â”‚
â”‚ Stores:                                                 â”‚
â”‚ - Song metadata (artist, track, album)                 â”‚
â”‚ - Timing info (duration)                               â”‚
â”‚ - Plain lyrics                                          â”‚
â”‚ - Synced lyrics (LRC format)                            â”‚
â”‚ - Contributor info                                      â”‚
â”‚ - Timestamp                                             â”‚
â”‚ - Version history                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Instant Availability                             â”‚
â”‚                                                         â”‚
â”‚ Your lyrics now available at:                           â”‚
â”‚ https://lrclib.net/lyrics/[artist]/[song]              â”‚
â”‚                                                         â”‚
â”‚ Used by:                                                â”‚
â”‚ - Spotify LRC plugins                                  â”‚
â”‚ - Music players worldwide                              â”‚
â”‚ - Lyrics databases                                     â”‚
â”‚ - Millions of music listeners!                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Lyrica Workflow Complete!** ğŸµ

From audio file â†’ Synchronized lyrics â†’ Community contribution in under 3 minutes!
